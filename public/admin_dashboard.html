<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Study Buddy - Multi-Persona Dashboards</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root { --primary: #5856D6; --bg: #0f172a; --card: #1e293b; --text: #f8fafc; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); margin: 0; }
        .navbar { background: var(--card); padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid var(--primary); sticky: top; z-index: 100; }
        .nav-links button { background: #334155; border: none; color: white; padding: 10px 20px; margin-left: 5px; border-radius: 5px; cursor: pointer; transition: 0.3s; }
        .nav-links button.active { background: var(--primary); box-shadow: 0 0 10px var(--primary); }
        .back-home { color: #94a3b8; text-decoration: none; font-weight: bold; }
        .container { padding: 30px; display: none; animation: fadeIn 0.5s; }
        .container.active { display: block; }
        .grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 20px; }
        .card { background: var(--card); border-radius: 15px; padding: 20px; border: 1px solid #334155; }
        .full-width { grid-column: span 2; }
        .kpi-row { display: flex; gap: 15px; margin-bottom: 20px; }
        .kpi { background: rgba(88, 86, 214, 0.1); padding: 15px; border-radius: 10px; flex: 1; text-align: center; border: 1px solid var(--primary); }
        .slicer-box { background: #1e293b; padding: 10px; border-radius: 8px; margin-bottom: 15px; border-left: 4px solid var(--primary); font-size: 14px; }
        select { background: #334155; color: white; border: 1px solid var(--primary); padding: 5px; border-radius: 4px; margin-left: 10px; }
        .justification { background: #0f172a; padding: 10px; border-radius: 5px; margin-top: 10px; font-size: 12px; color: #94a3b8; border: 1px dashed #334155; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

<nav class="navbar">
    <a href="/" class="back-home">‚Üê Back to App</a>
    <div class="nav-links">
        <button class="active" onclick="openTab('ceo')">Strategic (CEO)</button>
        <button onclick="openTab('manager')">Manager (Operational)</button>
        <button onclick="openTab('analyst')">Analyst (Analytical)</button>
    </div>
    <div style="font-weight: bold; color: var(--primary);">Decision Support System</div>
</nav>

<div id="ceo" class="container active">
    <h2>Strategic Dashboard (CEO)</h2>
    <div class="slicer-box">
        <strong>Slicer:</strong> Year Filter <select><option>2024</option><option>2023</option></select>
        <div class="justification"><strong>Why this slicer?</strong> Minimal interactivity to avoid executive distraction while showing high-level growth.</div>
    </div>
    <div class="kpi-row">
        <div class="kpi"><h3>Total Sales</h3><p>$2.4M</p></div>
        <div class="kpi"><h3>Total Profit</h3><p>$840K</p></div>
        <div class="kpi"><h3>YoY Growth</h3><p>+18%</p></div>
    </div>
    <div class="grid">
        <div class="card"><h4>Sales Trend over Years</h4><canvas id="ceoLine"></canvas></div>
        <div class="card"><h4>Profit by Region</h4><canvas id="ceoBar"></canvas></div>
    </div>
</div>

<div id="manager" class="container">
    <h2>Operational Dashboard (Manager)</h2>
    <div class="slicer-box">
        <strong>Slicers:</strong> 
        Month <select><option>All</option></select>
        Region <select><option>Global</option></select>
        Product <select><option>All</option></select>
        <div class="justification"><strong>Why these slicers?</strong> Supports real-time monitoring and immediate operational actions for different regions[cite: 25].</div>
    </div>
    <div class="kpi-row">
        <div class="kpi"><h3>Monthly Sales</h3><p>$125K</p></div>
        <div class="kpi"><h3>Target vs Actual</h3><p>92%</p></div>
    </div>
    <div class="grid">
        <div class="card"><h4>Sales by Product</h4><canvas id="mgrBar1"></canvas></div>
        <div class="card"><h4>Profit by Segment</h4><canvas id="mgrBar2"></canvas></div>
        <div class="card"><h4>Discount vs Profit</h4><canvas id="mgrScatter"></canvas></div>
        <div class="card"><h4>Sales by Country</h4><canvas id="mgrBar3"></canvas></div>
    </div>
</div>

<div id="analyst" class="container">
    <h2>Analytical Dashboard (Senior Analyst)</h2>
    <div class="slicer-box">
        <strong>Advanced Slicers:</strong> Scenario Modeling <select><option>Baseline</option><option>Aggressive</option></select>
        <div class="justification"><strong>Why this slicer?</strong> Enables deep exploration and detailed insights for pricing strategy adjustments.</div>
    </div>
    <div class="grid">
        <div class="card"><h4>Sales vs Profit Correlation</h4><canvas id="anlScatter1"></canvas></div>
        <div class="card"><h4>Manufacturing Cost vs Sales</h4><canvas id="anlScatter2"></canvas></div>
        <div class="card full-width"><h4>Profit by Country and Segment (Matrix)</h4><canvas id="anlBar"></canvas></div>
        <div class="card full-width"><h4>Trend by Segment</h4><canvas id="anlLine"></canvas></div>
    </div>
</div>

<script>
    function openTab(id) {
        document.querySelectorAll('.container').forEach(c => c.classList.remove('active'));
        document.querySelectorAll('.nav-links button').forEach(b => b.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        event.currentTarget.classList.add('active');
    }

    Chart.defaults.color = '#94a3b8';
    const commonOptions = { responsive: true, plugins: { tooltip: { enabled: true, backgroundColor: '#1e293b', titleColor: '#5856D6', bodyColor: '#fff', borderColor: '#5856D6', borderWidth: 1 } } };

    // CEO
    new Chart(document.getElementById('ceoLine'), { type: 'line', data: { labels: ['2021', '2022', '2023', '2024'], datasets: [{ label: 'Sales', data: [1.2, 1.8, 2.1, 2.4], borderColor: '#5856D6', tension: 0.4 }] }, options: commonOptions });
    new Chart(document.getElementById('ceoBar'), { type: 'bar', data: { labels: ['North', 'South', 'East', 'West'], datasets: [{ label: 'Profit', data: [400, 300, 150, 200], backgroundColor: '#34d399' }] }, options: commonOptions });

    // MANAGER
    new Chart(document.getElementById('mgrBar1'), { type: 'bar', data: { labels: ['Velo', 'Amarilla', 'Montana'], datasets: [{ label: 'Units', data: [500, 800, 450], backgroundColor: '#fbbf24' }] }, options: commonOptions });
    new Chart(document.getElementById('mgrBar2'), { type: 'bar', data: { labels: ['Gov', 'SME', 'Ent'], datasets: [{ label: 'Profit', data: [50, 30, 40], backgroundColor: '#818cf8' }] }, options: { ...commonOptions, indexAxis: 'y' } });
    new Chart(document.getElementById('mgrScatter'), { type: 'scatter', data: { datasets: [{ label: 'Impact', data: [{x: 5, y: 50}, {x: 15, y: 20}, {x: 25, y: -10}], backgroundColor: '#f87171' }] }, options: commonOptions });
    new Chart(document.getElementById('mgrBar3'), { type: 'bar', data: { labels: ['USA', 'CAN', 'FRA'], datasets: [{ label: 'Sales', data: [1000, 600, 400], backgroundColor: '#5856D6' }] }, options: commonOptions });

    // ANALYST
    new Chart(document.getElementById('anlScatter1'), { type: 'scatter', data: { datasets: [{ label: 'Sales/Profit', data: [{x: 100, y: 20}, {x: 150, y: 45}, {x: 200, y: 30}], backgroundColor: '#34d399' }] }, options: commonOptions });
    new Chart(document.getElementById('anlScatter2'), { type: 'scatter', data: { datasets: [{ label: 'Cost/Sales', data: [{x: 10, y: 100}, {x: 20, y: 180}], backgroundColor: '#fbbf24' }] }, options: commonOptions });
    new Chart(document.getElementById('anlBar'), { type: 'bar', data: { labels: ['USA-Gov', 'USA-Ent', 'CAN-Gov'], datasets: [{ label: 'Profit', data: [40, 35, 20], backgroundColor: '#818cf8' }] }, options: commonOptions });
    new Chart(document.getElementById('anlLine'), { type: 'line', data: { labels: ['Jan', 'Feb', 'Mar'], datasets: [{ label: 'Ent', data: [40, 60, 80], borderColor: '#5856D6' }, { label: 'Gov', data: [30, 35, 32], borderColor: '#f87171' }] }, options: commonOptions });
</script>
</body>
</html>
