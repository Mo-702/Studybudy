<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>Study Buddy - Admin Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: -apple-system, sans-serif; background: #f5f5f7; padding: 20px; }
        .nav-tabs { display: flex; gap: 10px; margin-bottom: 20px; justify-content: center; }
        button { padding: 10px 20px; border-radius: 10px; border: none; background: #fff; cursor: pointer; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        button.active { background: #5856D6; color: white; }
        .container { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        canvas { max-height: 400px; }
        .kpi-cards { display: flex; gap: 20px; margin-bottom: 20px; }
        .card { background: #fff; padding: 15px; border-radius: 12px; flex: 1; text-align: center; border: 1px solid #eee; }
        .card h3 { margin: 0; font-size: 14px; color: #888; }
        .card p { margin: 5px 0; font-size: 24px; font-weight: bold; color: #333; }
    </style>
</head>
<body>

    <div class="nav-tabs">
        <button id="btn-strat" class="active" onclick="draw('strategic')">Strategic (CEO)</button>
        <button id="btn-oper" onclick="draw('operational')">Operational (Manager)</button>
        <button id="btn-anal" onclick="draw('analytical')">Analytical (Analyst)</button>
    </div>

    <div class="container">
        <div id="kpis" class="kpi-cards">
            </div>
        <canvas id="myChart"></canvas>
    </div>

<script>
let myChart;
const ctx = document.getElementById('myChart').getContext('2d');

function draw(type) {
    if (myChart) myChart.destroy();
    document.querySelectorAll('button').forEach(b => b.classList.remove('active'));
    
    const kpiDiv = document.getElementById('kpis');

    if (type === 'strategic') {
        document.getElementById('btn-strat').classList.add('active');
        kpiDiv.innerHTML = '<div class="card"><h3>Total Profit</h3><p>$16.89M</p></div><div class="card"><h3>Total Sales</h3><p>$118.73M</p></div>';
        myChart = new Chart(ctx, {
            type: 'line',
            data: { labels: ['2013', '2014'], datasets: [{ label: 'Profit Growth', data: [3878000, 13012000], borderColor: '#5856D6', tension: 0.4 }] }
        });
    } else if (type === 'operational') {
        document.getElementById('btn-oper').classList.add('active');
        kpiDiv.innerHTML = '<div class="card"><h3>Top Product</h3><p>Velo</p></div><div class="card"><h3>Active Segment</h3><p>Government</p></div>';
        myChart = new Chart(ctx, {
            type: 'bar',
            data: { labels: ['Paseo', 'Velo', 'VTT', 'Amarilla', 'Carretera'], datasets: [{ label: 'Units Sold', data: [338000, 289000, 248000, 147000, 146000], backgroundColor: '#AF52DE' }] }
        });
    } else if (type === 'analytical') {
        document.getElementById('btn-anal').classList.add('active');
        kpiDiv.innerHTML = '<div class="card"><h3>Avg Discount</h3><p>15.6%</p></div>';
        myChart = new Chart(ctx, {
            type: 'scatter',
            data: { datasets: [{ label: 'Price vs Profit', data: [{x: 20, y: 50}, {x: 15, y: 30}, {x: 350, y: 120}], backgroundColor: '#FF9500' }] }
        });
    }
}
// تشغيل الداشبورد الاستراتيجي عند التحميل
draw('strategic');
</script>
</body>
</html>
